<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title></title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html --> 
<meta name="src" content="tmp.tex"> 
<meta name="date" content="2010-02-14 12:03:00"> 
<link rel="stylesheet" type="text/css" href="bonmin.css"> 
</head><body 
>
<!--l. 2--><p class="noindent"><div id="header">   <h1 id="siteName"><TT> <big> BONMIN </big> </tt> Users' Manual</h1>   <div id="globalNav">   <a href="Intro.html">Introduction</a> |   <a href="Obtain.html">Download</a> |  <a href="Install.html">Install</a> |   <a href="use.html">Use</a> |   <a href="options_set.html">Setting Options</a> |   <a href="options_list.html">Options List</a> |   <a href="bib.html">Bibliography</a> |  </div>   </div>  <div id="leftPanel"> <div id="side-bar">  <ul> <li class="main"><a href="/Bonmin/index.html">Bonmin</a></li>  <li><a href="https://projects.coin-or.org/Bonmin">Wiki</a></li>   <li><a href="http://neos.mcs.anl.gov/neos/solvers/minco:Bonmin/AMPL.html"> NEOS </a> </li>  <li><a href="http://egon.cheme.cmu.edu/ibm/page.htm">IBM-CMU OCR </a></li>  <li><a href="http://domino.research.ibm.com/comm/research_projects.nsf/pages/minlp.index.html">  IBM MINLP </a></li>  <br>  <br>  <li class="main"><a href="/index.html">COIN-OR Home</a></li>  <li><a href="/projects.html">Projects</a></li>  <li><a href="/faqs.html">FAQs</a></li>   <li><a href="/download.html">Download</a></li>  <li><a href="/mail.html">Mailing Lists</a></li>  <li><a href="/how-to-help.html">Get Involved</a></li>  <li><a href="/resources.html">Related Resources</a></li>  <li class="main"><a href="/foundation.html">  <br>  <br>  COIN-OR Foundation  </a></li>   <li><a href="/events.html">Events</a></li>  <li><a href="/members.html">Members</a></li>  </ul>  </div> </div> <!--end navBar div -->  <br>   <h2 id="pageName"> Setting Options  </h2>  <a href="#sec:opt&#x02D9;opt " > Passing options to
<span 
class="cmtt-10">BONMIN </span> </a> / <a href="#sec:options&#x02D9;list " > List of options  </a> / <a href="#sec:opt&#x02D9;nonconv " > Getting good
solutions to nonconvex problems  </a> / <a href="#sec:opt&#x02D9;ipopt " > Notes on <a 
href="https://projects.coin-or.org/Ipopt" ><span 
class="cmtt-10">Ipopt</span></a>&#x00A0;options  </a> /   </div> 
<!--l. 11--><p class="noindent"> </div> <div id="content"> <div class="feature"> <h3> <a id="sec:opt">Options</a> </h3>       </div> <div class="story"><h3><a id="sec:opt&#x02D9;opt">Passing options to <span 
class="cmtt-10">BONMIN</span></a></h3>  Options in <span 
class="cmtt-10">BONMIN</span>&#x00A0;can be
set in several different ways.
<!--l. 15--><p class="indent">   First, you can set options by putting them in a file called <span 
class="cmtt-10">bonmin.opt </span>in the
directory where <span 
class="cmtt-10">bonmin </span>is executing. If you are familiar with the file <a 
href="http://www.coin-or.org/Ipopt/documentation/node50.html" ><span 
class="cmtt-10">ipopt.opt</span></a>
(formerly named <span 
class="cmtt-10">PARAMS.DAT</span>) in <span 
class="cmtt-10">Ipopt</span>, the syntax of the <span 
class="cmtt-10">bonmin.opt </span>is similar. For
those not familiar with <span 
class="cmtt-10">ipopt.opt</span>, the syntax is simply to put the name
of the option followed by its value, with no more than two options on a
single line. Anything on a line after a # symbol is ignored (i.e., treated as a
comment).
<!--l. 26--><p class="indent">   Note that <span 
class="cmtt-10">BONMIN</span>&#x00A0;sets options for <span 
class="cmtt-10">Ipopt</span>. If you want to set options for <span 
class="cmtt-10">Ipopt</span>
(when used inside <span 
class="cmtt-10">BONMIN</span>) you have to set them in the file <span 
class="cmtt-10">bonmin.opt </span>(the
standard <span 
class="cmtt-10">Ipopt </span>option file <span 
class="cmtt-10">ipopt.opt </span>is not read by <span 
class="cmtt-10">BONMIN</span>.) For a list and a
description of all the <span 
class="cmtt-10">Ipopt </span>options, the reader may refer to the <a 
href="http://www.coin-or.org/Ipopt/documentation/node54.html" >documentation of
<span 
class="cmtt-10">Ipopt</span></a>.
<!--l. 36--><p class="indent">   Since <span 
class="cmtt-10">bonmin.opt </span>contains both <span 
class="cmtt-10">Ipopt </span>and <span 
class="cmtt-10">BONMIN</span>&#x00A0;options, for clarity all
<span 
class="cmtt-10">BONMIN</span>&#x00A0;options should be preceded with the prefix &#8220;<span 
class="cmtt-10">bonmin.</span>&#8221; in <span 
class="cmtt-10">bonmin.opt</span>&#x00A0;.
Note that some options can also be passed to the MILP subsolver used by
<span 
class="cmtt-10">BONMIN</span>&#x00A0;in the outer approximation decomposition and the hybrid (see Subsection
<span 
class="cmbx-10">??</span>).
<br class="newline" />
<!--l. 42--><p class="indent">   The most important option in <span 
class="cmtt-10">BONMIN</span>&#x00A0;is the choice of the solution algorithm.
This can be set by using the option named <span 
class="cmtt-10">bonmin.algorithm </span>which can be set to
<span 
class="cmtt-10">B-BB</span>, <span 
class="cmtt-10">B-OA</span>, <span 
class="cmtt-10">B-QG</span>, or <span 
class="cmtt-10">B-Hyb </span>(it&#8217;s default value is <span 
class="cmtt-10">B-BB</span>). Depending on the value of
this option, certain other options may be available or not. The list of options
together with their types, default values and availability in each of the four
algorithms can be found <a 
href="options_list.html#sec:options_list" >here</a>. The column labeled &#8216;type&#8217; indicates the type of
the parameter (&#8216;F&#8217; stands for float, &#8216;I&#8217; for integer, and &#8216;S&#8217; for string). The
column labeled default indicates the global default value. Then for each
of the four algorithm <span 
class="cmtt-10">B-BB</span>, <span 
class="cmtt-10">B-OA</span>, <span 
class="cmtt-10">B-QG</span>, and <span 
class="cmtt-10">B-Hyb</span>, &#8216;+&#8217; indicates that the
option is available for that particular algorithm while &#8216;<span 
class="cmsy-10">-</span>&#8217; indicates that it is
not.
<br class="newline" />
<!--l. 57--><p class="indent">   An example of a <span 
class="cmtt-10">bonmin.opt </span>file including all the options with their default
values is located in the <span 
class="cmtt-10">Test </span>sub-directory.
<!--l. 61--><p class="indent">   A small example is as follows:

   <table 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
&#x00A0;&#x00A0;&#x00A0;bonmin.bb_log_level&#x00A0;4
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;bonmin.algorithm&#x00A0;B-BB
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;print_level&#x00A0;6
</div>
</td></tr></table>
<!--l. 66--><p class="nopar"> This sets the level of output of the branch-and-bound in <span 
class="cmtt-10">BONMIN</span>&#x00A0;to 4, the algorithm
to branch-and-bound and the output level for <span 
class="cmtt-10">Ipopt </span>to 6.
<br class="newline" />
<!--l. 70--><p class="indent">   When <span 
class="cmtt-10">BONMIN</span>&#x00A0;is run from within <span 
class="cmtt-10">Ampl</span>, another way to set an option is through
the internal <span 
class="cmtt-10">Ampl </span>command <span 
class="cmtt-10">options</span>. For example

   <table 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
options&#x00A0;bonmin_options&#x00A0;"bonmin.bb_log-level&#x00A0;4&#x00A0;\
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;bonmin.algorithm&#x00A0;B-BB&#x00A0;print_level&#x00A0;6";
</div>
</td></tr></table>
<!--l. 77--><p class="nopar"> has the same affect as the <span 
class="cmtt-10">bonmin.opt </span>example above. Note that any <span 
class="cmtt-10">BONMIN</span>&#x00A0;option
specified in the file <span 
class="cmtt-10">bonmin.opt </span>overrides any setting of that option from within <img 
src="tmp0x.png" alt="A
"  class="udot" >mpl.
<br class="newline" />
<!--l. 82--><p class="indent">   A third way is to set options directly in the C/C++ code when running
<span 
class="cmtt-10">BONMIN</span>&#x00A0;from inside a C/C++ program as is explained in the reference manual.
<!--l. 85--><p class="indent">   A detailed description of all of the <span 
class="cmtt-10">BONMIN</span>&#x00A0;options is given <a 
href="options_list.html#sec:options_list" >here</a>. In the following,
we give some more details on options for the MILP subsolver and on the options
specifically designed for nonconvex problems.
<br class="newline" />
<!--l. 95--><p class="indent">    </div> <div class="story"><h3><a id="sec:sub&#x02D9;solvers">Passing options to local search based heuristics and oa generators</a></h3>
<a 
 id="x1-1doc"></a>Several parts of the algorithms in <span 
class="cmtt-10">BONMIN</span>&#x00A0;are based on solving a simplified
version of the problem with another instance of <span 
class="cmtt-10">BONMIN</span>: Outer Approximation
Decomposition (called in <span 
class="cmtt-10">B-Hyb </span>at the root node) and Feasibility Pump for
MINLP (called in B-Hyb or B-BB at the root node), RINS, RENS, Local
Branching.
<!--l. 101--><p class="indent">   In all these cases, one can pass options to the sub-algorithm used through the
bonmin.opt file. The basic principle is that the &#8220;bonmin.&#8221; prefix is replaced with a
prefix that identify the sub-algorithm used:
     <ul class="itemize1">
     <li class="itemize">to     pass     options     to     Outer     Approximation     Decomposition:
     <span 
class="cmtt-10">oa</span><span 
class="cmtt-10">_decomposition.</span>,
     </li>
     <li class="itemize">to pass options to Feasibility Pump for MINLP: <span 
class="cmtt-10">pump</span><span 
class="cmtt-10">_for</span><span 
class="cmtt-10">_minlp.</span>,
     </li>
     <li class="itemize">to pass options to RINS: <span 
class="cmtt-10">rins.</span>,
     </li>
     <li class="itemize">to RENS: <span 
class="cmtt-10">rens.</span>,
     </li>
     <li class="itemize">to Local Branching: <span 
class="cmtt-10">local</span><span 
class="cmtt-10">_branch</span>.</li></ul>
<!--l. 112--><p class="indent">   For example, we may want to run a maximum of 60 seconds of FP for MINLP
until 6 solutions are found at the beginning of the hybrid algorithm. To do so we set
the following option in <span 
class="cmtt-10">bonmin.opt</span>

   <table 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
bonmin.algorithm&#x00A0;B-Hyb
&#x00A0;<br />
&#x00A0;<br />bonmin.pump_for_minlp&#x00A0;yes&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;#Tells&#x00A0;to&#x00A0;run&#x00A0;fp&#x00A0;for&#x00A0;MINLP
&#x00A0;<br />pump_for_minlp.time_limit&#x00A0;60&#x00A0;#set&#x00A0;a&#x00A0;time&#x00A0;limit&#x00A0;for&#x00A0;the&#x00A0;pump
&#x00A0;<br />pump_for_minlp.solution_limit&#x00A0;6&#x00A0;#&#x00A0;set&#x00A0;a&#x00A0;solution&#x00A0;limit
&#x00A0;<br />
</div>
</td></tr></table>
<!--l. 121--><p class="nopar">
<!--l. 123--><p class="indent">   Note that the actual solution and time limit will be the minimum of the global
limits set for <span 
class="cmtt-10">BONMIN</span>.
<!--l. 125--><p class="indent">   A slightly more complicated set of options may be used when using RINS. Say for
example that we want to run RINS inside B-BB. Each time RINS is called
we want to solve the small-size MINLP generated using B-QG (we may
run any algorithm available in bonmin for solving an MINLP) and want
to stop as soon as B-QG found 1 solution. We set the following options in
bonmin.opt

   <table 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
bonmin.algorithm&#x00A0;B-BB
&#x00A0;<br />
&#x00A0;<br />bonmin.rins&#x00A0;yes
&#x00A0;<br />rins.algorithm&#x00A0;B-QG
&#x00A0;<br />rins.solution_limit&#x00A0;1
&#x00A0;<br />
</div>
</td></tr></table>
<!--l. 136--><p class="nopar"> This example shows that it is possible to set any option used in the sub=algorithm
to be different than the one used for the main algorithm.
<!--l. 140--><p class="indent">   In the context of OA and FP for MINLP, a standard MILP solver is used. Several
option are available for configuring this MILP solver. <span 
class="cmtt-10">BONMIN</span>&#x00A0;allows a choice of
different MILP solvers through the option <span 
class="cmtt-10">bonmin.milp</span><span 
class="cmtt-10">_subsolver</span>. Values for this
option are: <span 
class="cmtt-10">Cbc</span><span 
class="cmtt-10">_D </span>which uses <span 
class="cmtt-10">Cbc </span>with its default settings, <span 
class="cmtt-10">Cplex </span>which uses <span 
class="cmtt-10">Cplex</span>
with its default settings, and <span 
class="cmtt-10">Cbc</span><span 
class="cmtt-10">_Par </span>which uses a version of <span 
class="cmtt-10">Cbc </span>that can be
parameterized by the user. The options that can be set in <span 
class="cmtt-10">Cbc</span><span 
class="cmtt-10">_Par </span>are the number of
strong-branching candidates, the number of branches before pseudo costs are to be
trusted, and the frequency of the various cut generators (these options are signaled in
Table <span 
class="cmbx-10">??</span>).
<!--l. 150--><p class="indent">    </div> <div class="story"><h3><a id="sec:opt&#x02D9;nonconv">Getting good solutions to nonconvex problems</a></h3>   To solve a
problem with non-convex constraints, one should only use the branch-and-bound
algorithm <span 
class="cmtt-10">B-BB</span>.
<!--l. 155--><p class="indent">   A few options have been designed in <span 
class="cmtt-10">BONMIN</span>&#x00A0;specifically to treat problems that
do not have a convex continuous relaxation. In such problems, the solutions obtained
from <span 
class="cmtt-10">Ipopt </span>are not necessarily globally optimal, but are only locally optimal. Also
the outer-approximation constraints are not necessarily valid inequalities for the
problem.
<!--l. 161--><p class="indent">   No specific heuristic method for treating nonconvex problems is implemented yet
within the OA framework. But for the pure branch-and-bound <span 
class="cmtt-10">B-BB</span>, we implemented
a few options having in mind that lower bounds provided by <span 
class="cmtt-10">Ipopt </span>should not be
trusted, and with the goal of trying to get good solutions. Such options are at a very
experimental stage.
<!--l. 167--><p class="indent">   First, in the context of nonconvex problems, <span 
class="cmtt-10">Ipopt </span>may find different
local optima when started from different starting points. The two options
<span 
class="cmtt-10">num</span><span 
class="cmtt-10">_resolve</span><span 
class="cmtt-10">_at</span><span 
class="cmtt-10">_root </span>and <span 
class="cmtt-10">num</span><span 
class="cmtt-10">_resolve</span><span 
class="cmtt-10">_at</span><span 
class="cmtt-10">_node </span>allow for solving the root node or
each node of the tree, respectively, with a user-specified number of different
randomly-chosen starting points, saving the best solution found. Note that the
function to generate a random starting point is very naïve: it chooses a
random point (uniformly) between the bounds provided for the variable. In
particular if there are some functions that can not be evaluated at some
points of the domain, it may pick such points, and so it is not robust in that
respect.

<!--l. 177--><p class="indent">   Secondly, since the solution given by <span 
class="cmtt-10">Ipopt </span>does not truly give a lower bound, we
allow for changing the fathoming rule to continue branching even if the solution value
to the current node is worse than the best-known solution. This is achieved by setting
<span 
class="cmtt-10">allowable</span><span 
class="cmtt-10">_gap </span>and <span 
class="cmtt-10">allowable</span><span 
class="cmtt-10">_fraction</span><span 
class="cmtt-10">_gap </span>and <span 
class="cmtt-10">cutoff</span><span 
class="cmtt-10">_decr </span>to negative
values.
<!--l. 184--><p class="indent">    </div> <div class="story"><h3><a id="sec:opt&#x02D9;ipopt">Notes on <span 
class="cmtt-10">Ipopt </span>options</a></h3>   <a 
href="https://projects.coin-or.org/Ipopt" ><span 
class="cmtt-10">Ipopt</span></a>&#x00A0;has a very large number of options,
to get a complete description of them, you should refer to the <a 
href="https://projects.coin-or.org/Ipopt" ><span 
class="cmtt-10">Ipopt</span></a>&#x00A0;manual. Here
we only mention and explain some of the options that have been more important to
us, so far, in developing and using <span 
class="cmtt-10">BONMIN</span>.
   <a 
 id="subsubsection.0.0.1"></a>
   <h5 class="subsubsectionHead"><span class="titlemark">0.0.1   </span> <a 
 id="x1-10000.0.1"></a>Default options changed by <span 
class="cmtt-10">BONMIN</span></h5>
<!--l. 191--><p class="noindent"><a 
href="https://projects.coin-or.org/Ipopt" ><span 
class="cmtt-10">Ipopt</span></a>&#x00A0;has been tailored to be more efficient when used in the context of the
solution of a MINLP problem. In particular, we have tried to improve <a 
href="https://projects.coin-or.org/Ipopt" ><span 
class="cmtt-10">Ipopt</span></a>&#8217;s
warm-starting capabilities and its ability to prove quickly that a subproblem is
infeasible. For ordinary NLP problems, <a 
href="https://projects.coin-or.org/Ipopt" ><span 
class="cmtt-10">Ipopt</span></a>&#x00A0;does not use these options by
default, but <span 
class="cmtt-10">BONMIN</span>&#x00A0;automatically changes these options from their default
values.
<!--l. 197--><p class="indent">   Note that options set by the user in <span 
class="cmtt-10">bonmin.opt </span>will override these settings.
<a 
 id="section*.1"></a>
<!--l. 200--><p class="noindent"><span class="paragraphHead"><a 
 id="x1-20000.0.1"></a><span 
class="cmtt-10">mu</span><span 
class="cmtt-10">_strategy </span><span 
class="cmbx-10">and </span><span 
class="cmtt-10">mu</span><span 
class="cmtt-10">_oracle</span></span> are set, respectively, to <span 
class="cmtt-10">adaptive </span>and <span 
class="cmtt-10">probing </span>by
default (these are newly implemented strategies in <a 
href="https://projects.coin-or.org/Ipopt" ><span 
class="cmtt-10">Ipopt</span></a>&#x00A0;for updating the barrier
parameter  <a 
href="bib.html#NocedalAdaptive" >[Nocedal2004]</a>   which we have found to be more efficient in the context of
MINLP).
<a 
 id="section*.2"></a>
<!--l. 204--><p class="noindent"><span class="paragraphHead"><a 
 id="x1-30000.0.1"></a><span 
class="cmtt-10">gamma</span><span 
class="cmtt-10">_phi </span><span 
class="cmbx-10">and </span><span 
class="cmtt-10">gamma</span><span 
class="cmtt-10">_theta</span></span> are set to 10<sup><span 
class="cmsy-7">-</span><span 
class="cmr-7">8</span></sup> and 10<sup><span 
class="cmsy-7">-</span><span 
class="cmr-7">4</span></sup> respectively. This has
the effect of reducing the size of the filter in the line search performed by
Ipopt.
<a 
 id="section*.3"></a>
<!--l. 207--><p class="noindent"><span class="paragraphHead"><a 
 id="x1-40000.0.1"></a><span 
class="cmtt-10">required</span><span 
class="cmtt-10">_infeasibility</span><span 
class="cmtt-10">_reduction</span></span> is set to 0<span 
class="cmmi-10">.</span>1. This increases the required
infeasibility reduction when <a 
href="https://projects.coin-or.org/Ipopt" ><span 
class="cmtt-10">Ipopt</span></a>&#x00A0;enters the restoration phase and should thus help
detect infeasible problems faster.
<a 
 id="section*.4"></a>
<!--l. 212--><p class="noindent"><span class="paragraphHead"><a 
 id="x1-50000.0.1"></a><span 
class="cmtt-10">expect</span><span 
class="cmtt-10">_infeasible</span><span 
class="cmtt-10">_problem</span></span> is set to <span 
class="cmtt-10">yes </span>which enables some heuristics to detect
infeasible problems faster.
<a 
 id="section*.5"></a>
<!--l. 215--><p class="noindent"><span class="paragraphHead"><a 
 id="x1-60000.0.1"></a><span 
class="cmtt-10">warm</span><span 
class="cmtt-10">_start</span><span 
class="cmtt-10">_init</span><span 
class="cmtt-10">_point</span></span> is set to <span 
class="cmtt-10">yes </span>when a full primal/dual starting point is
available (generally all the optimizations after the continuous relaxation has been
solved).

<a 
 id="section*.6"></a>
<!--l. 218--><p class="noindent"><span class="paragraphHead"><a 
 id="x1-70000.0.1"></a><span 
class="cmtt-10">print</span><span 
class="cmtt-10">_level</span></span> is set to 0 by default to turn off Ipopt output.
   <a 
 id="subsubsection.0.0.2"></a>
   <h5 class="subsubsectionHead"><span class="titlemark">0.0.2   </span> <a 
 id="x1-80000.0.2"></a>Some useful <a 
href="https://projects.coin-or.org/Ipopt" ><span 
class="cmtt-10">Ipopt</span></a>&#x00A0;options</h5>
<a 
 id="section*.7"></a>
<!--l. 220--><p class="noindent"><span class="paragraphHead"><a 
 id="x1-90000.0.2"></a><span 
class="cmbx-10">bound</span><span 
class="cmbx-10">_relax</span><span 
class="cmbx-10">_factor</span></span> is by default set to 10<sup><span 
class="cmsy-7">-</span><span 
class="cmr-7">8</span></sup> in <a 
href="https://projects.coin-or.org/Ipopt" ><span 
class="cmtt-10">Ipopt</span></a>. All of the bounds of the
problem are relaxed by this factor. This may cause some trouble when constraint
functions can only be evaluated within their bounds. In such cases, this option should
be set to 0.
    
</body></html> 



