<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title></title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html --> 
<meta name="src" content="tmp.tex"> 
<meta name="date" content="2010-02-14 12:03:00"> 
<link rel="stylesheet" type="text/css" href="bonmin.css"> 
</head><body 
>
<!--l. 2--><p class="noindent"><div id="header">   <h1 id="siteName"><TT> <big> BONMIN </big> </tt> Users' Manual</h1>   <div id="globalNav">   <a href="Intro.html">Introduction</a> |   <a href="Obtain.html">Download</a> |  <a href="Install.html">Install</a> |   <a href="use.html">Use</a> |   <a href="options_set.html">Setting Options</a> |   <a href="options_list.html">Options List</a> |   <a href="bib.html">Bibliography</a> |  </div>   </div>  <div id="leftPanel"> <div id="side-bar">  <ul> <li class="main"><a href="/Bonmin/index.html">Bonmin</a></li>  <li><a href="https://projects.coin-or.org/Bonmin">Wiki</a></li>   <li><a href="http://neos.mcs.anl.gov/neos/solvers/minco:Bonmin/AMPL.html"> NEOS </a> </li>  <li><a href="http://egon.cheme.cmu.edu/ibm/page.htm">IBM-CMU OCR </a></li>  <li><a href="http://domino.research.ibm.com/comm/research_projects.nsf/pages/minlp.index.html">  IBM MINLP </a></li>  <br>  <br>  <li class="main"><a href="/index.html">COIN-OR Home</a></li>  <li><a href="/projects.html">Projects</a></li>  <li><a href="/faqs.html">FAQs</a></li>   <li><a href="/download.html">Download</a></li>  <li><a href="/mail.html">Mailing Lists</a></li>  <li><a href="/how-to-help.html">Get Involved</a></li>  <li><a href="/resources.html">Related Resources</a></li>  <li class="main"><a href="/foundation.html">  <br>  <br>  COIN-OR Foundation  </a></li>   <li><a href="/events.html">Events</a></li>  <li><a href="/members.html">Members</a></li>  </ul>  </div> </div> <!--end navBar div -->  <br>   <h2 id="pageName"> Running <span 
class="cmtt-10">BONMIN </span> </h2> <a href="#sec:run&#x02D9;nl " > On an .nl file  </a> /
<a href="#sec:run&#x02D9;ampl " > From Ampl  </a> / <a href="#sub&#x02D9;sec:prio " > priorities and SOS in Ampl  </a> /
<a href="#sec:run&#x02D9;gams " > From GAMS  </a> / <a href="#sec:run&#x02D9;cpp " > From a C++ Programm  </a> /   </div> 
<!--l. 11--><p class="noindent"> <div id="rightPanel"> <div id="headlines"> <h4>References </h4>     <div id="refer"> <p>  1 <a 
href="bib.html#Gay" >Writing <span 
class="cmbx-10">.nl </span>files. D.M.&#x00A0;Gay.</a>  </p> </div>       <div id="refer"> <p>  2 <a 
href="bib.html#AMPL" >AMPL: A Modeling Language for
Mathematical Programming, Second Edition, Duxbury Press Brooks Cole
Publishing Co., 2003. R.&#x00A0;Fourer and D.M.&#x00A0;Gay and B.W.&#x00A0;Kernighan.</a>  </p> </div>     </div> </div> 
<!--l. 18--><p class="noindent"> </div> <div id="content"> <div class="feature"> <h3> <a id="sec:run">Running <span 
class="cmtt-10">BONMIN</span></a> </h3>  <span 
class="cmtt-10">BONMIN</span>&#x00A0;can be run
     <ul class="itemize1">
     <li class="itemize">from a command line on a <span 
class="cmtt-10">.nl </span>file (see  <a 
href="bib.html#Gay" >[Gay2005]</a>  ),
     </li>
     <li class="itemize">from the modeling language <a 
href="http://www.ampl.com" ><span 
class="cmtt-10">Ampl</span></a> (see  <a 
href="bib.html#AMPL" >[Fourrer2003]</a>  ),
     </li>
     <li class="itemize">from the <a 
href="http://www.gams.com/" >Gams</a> modeling language,
     </li>
     <li class="itemize">by invoking it from a C/C++ program.
     </li>
     <li class="itemize">remotely through the <a 
href="http://neos.mcs.anl.gov/neos" >NEOS</a> web interface.</li></ul>
<!--l. 30--><p class="indent">   In this page, we give some details about the various ways to run <span 
class="cmtt-10">BONMIN</span>.
<!--l. 33--><p class="indent">    </div> <div class="story"><h3><a id="sec:run&#x02D9;nl">On a <span 
class="cmtt-10">.nl </span>file</a></h3>   <span 
class="cmtt-10">BONMIN</span>&#x00A0;can read a <span 
class="cmtt-10">.nl </span>file which could be generated by
<span 
class="cmtt-10">Ampl </span>(for example <span 
class="cmtt-10">mytoy.nl </span>in the <span 
class="cmtt-10">Bonmin-dist/Bonmin/test </span>subdirectory). The
command line takes just one argument which is the name of the <span 
class="cmtt-10">.nl </span>file to be
processed.
<!--l. 40--><p class="indent">   For example, if you want to solve <span 
class="cmtt-10">mytoy.nl</span>, from the <span 
class="cmtt-10">Bonmin-dist </span>directory,
issue the command:
<!--l. 43--><p class="indent">   <div id="verbatim">

   <table 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
&#x00A0;<br />bonmin&#x00A0;test/mytoy.nl
&#x00A0;<br />
</div>
</td></tr></table>
<!--l. 48--><p class="nopar"> </div> 
<!--l. 51--><p class="indent">    </div> <div class="story"><h3><a id="sec:run&#x02D9;ampl">From <span 
class="cmtt-10">Ampl</span></a></h3>  To use <span 
class="cmtt-10">BONMIN</span>&#x00A0;from <span 
class="cmtt-10">Ampl </span>you just need to have the
directory where the <span 
class="cmtt-10">bonmin </span>executable is in your <span 
class="cmtt-10">$PATH </span>and to issue the
command
<!--l. 56--><p class="indent">   <div id="verbatim">

   <table 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
&#x00A0;<br />option&#x00A0;solver&#x00A0;bonmin;
&#x00A0;<br />
</div>
</td></tr></table>
<!--l. 61--><p class="nopar"> </div> 
<!--l. 64--><p class="indent">   in the <span 
class="cmtt-10">Ampl </span>environment. Then the next <span 
class="cmtt-10">solve </span>will use <span 
class="cmtt-10">BONMIN</span>&#x00A0;to solve the
model loaded in <span 
class="cmtt-10">Ampl</span>. After the optimization is finished, the values of the variables in
the best-known or optimal solution can be accessed in <span 
class="cmtt-10">Ampl</span>. If the optimization is
interrupted with <span 
class="cmtt-10">&#x003C;CTRL-C&#x003E; </span>the best known solution is accessible (this feature is not
available in Cygwin).
<br class="newline" />
<!--l. 71--><p class="indent">    </div> <div class="story"><h3><a id="A">Example <span 
class="cmtt-10">Ampl </span>model</a></h3>   simple <span 
class="cmtt-10">Ampl </span>example model follows:
<!--l. 73--><p class="indent">   <div id="verbatim">

   <table 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;#&#x00A0;An&#x00A0;Ampl&#x00A0;version&#x00A0;of&#x00A0;toy
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;reset;
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;var&#x00A0;x&#x00A0;binary;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;var&#x00A0;z&#x00A0;integer&#x00A0;&#x003E;=&#x00A0;0&#x00A0;&#x003C;=&#x00A0;5;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;var&#x00A0;y{1..2}&#x00A0;&#x003E;=0;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;minimize&#x00A0;cost:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-&#x00A0;x&#x00A0;-&#x00A0;y[1]&#x00A0;-&#x00A0;y[2]&#x00A0;;
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;subject&#x00A0;to
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;c1:&#x00A0;(&#x00A0;y[1]&#x00A0;-&#x00A0;1/2&#x00A0;)^2&#x00A0;+&#x00A0;(y[2]&#x00A0;-&#x00A0;1/2)^2&#x00A0;&#x003C;=&#x00A0;1/4&#x00A0;;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;c2:&#x00A0;x&#x00A0;-&#x00A0;y[1]&#x00A0;&#x003C;=&#x00A0;0&#x00A0;;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;c3:&#x00A0;x&#x00A0;+&#x00A0;y[2]&#x00A0;+&#x00A0;z&#x00A0;&#x003C;=&#x00A0;2;
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;option&#x00A0;solver&#x00A0;bonmin;&#x00A0;#&#x00A0;Choose&#x00A0;BONMIN&#x00A0;as&#x00A0;the&#x00A0;solver&#x00A0;(assuming&#x00A0;that
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;bonmin&#x00A0;is&#x00A0;in&#x00A0;your&#x00A0;PATH
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;solve;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;Solve&#x00A0;the&#x00A0;model
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;display&#x00A0;x;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;display&#x00A0;y;
&#x00A0;<br />
</div>
</td></tr></table>
<!--l. 98--><p class="nopar"> </div> 
<!--l. 101--><p class="indent">   (This example can be found in the subdirectory <span 
class="cmtt-10">Bonmin/examples/amplExamples/</span>
of the <span 
class="cmtt-10">BONMIN</span>&#x00A0;package.)
<!--l. 104--><p class="indent">    </div> <div class="story"><h3><a id="sub&#x02D9;sec:prio">Setting up branching priorities, directions and declaring SOS1
constraints in ampl</a></h3>   Branching priorities, branching directions and pseudo-costs can
be passed using <span 
class="cmtt-10">Ampl </span>suffixes. The suffix for branching priorities is <span 
class="cmtt-10">"priority"</span>
(variables with a higher priority will be chosen first for branching), for branching
direction is <span 
class="cmtt-10">"direction" </span>(if direction is 1 the <span 
class="cmsy-10">&#x2265; </span>branch is explored first, if direction
is <span 
class="cmsy-10">-</span>1 the <span 
class="cmsy-10">&#x2264; </span>branch is explored first), for up and down pseudo costs <span 
class="cmtt-10">"upPseudoCost"</span>
and <span 
class="cmtt-10">"downPseudoCost" </span>respectively (note that if only one of the up and
down pseudo-costs is set in the <span 
class="cmtt-10">Ampl </span>model it will be used for both up and
down).
<br class="newline" />
<!--l. 114--><p class="indent">   For example, to give branching priorities of 10 to variables <span 
class="cmtt-10">y </span>and 1 to variable <span 
class="cmtt-10">x</span>
and to set the branching directions to explore the upper branch first for
all variables in the simple example given, we add before the call to solve:
<div id="verbatim">

   <table 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
&#x00A0;<br />suffix&#x00A0;priority&#x00A0;IN,&#x00A0;integer,&#x00A0;&#x003E;=0,&#x00A0;&#x003C;=&#x00A0;9999;
&#x00A0;<br />y[1].priority&#x00A0;:=&#x00A0;10;
&#x00A0;<br />y[2].priority&#x00A0;:=&#x00A0;10;
&#x00A0;<br />x.priority&#x00A0;:=&#x00A0;1;
&#x00A0;<br />
&#x00A0;<br />suffix&#x00A0;direction&#x00A0;IN,&#x00A0;integer,&#x00A0;&#x003E;=-1,&#x00A0;&#x003C;=1;
&#x00A0;<br />y[1].direction&#x00A0;:=&#x00A0;1;
&#x00A0;<br />y[2].direction&#x00A0;:=&#x00A0;1;
&#x00A0;<br />x.direction&#x00A0;:=&#x00A0;1;
&#x00A0;<br />
</div>
</td></tr></table>
<!--l. 130--><p class="nopar"> </div> 
<!--l. 133--><p class="indent">   SOS Type-1 branching is also available in <span 
class="cmtt-10">BONMIN</span>&#x00A0;from <span 
class="cmtt-10">Ampl</span>. We follow the
conventional way of doing this with suffixes. Two type of suffixes should be
declared:
<!--l. 137--><p class="indent">   <div id="verbatim">

   <table 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
suffix&#x00A0;sosno&#x00A0;IN,&#x00A0;integer,&#x00A0;&#x003E;=1;&#x00A0;&#x00A0;#&#x00A0;Note&#x00A0;that&#x00A0;the&#x00A0;solver&#x00A0;assumes&#x00A0;that&#x00A0;these
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;#&#x00A0;&#x00A0;&#x00A0;values&#x00A0;are&#x00A0;positive&#x00A0;for&#x00A0;SOS&#x00A0;Type&#x00A0;1
&#x00A0;<br />suffix&#x00A0;ref&#x00A0;IN;
</div>
</td></tr></table>
<!--l. 142--><p class="nopar"> </div> 
<!--l. 145--><p class="indent">   Next, suppose that we wish to have variables
<!--l. 147--><p class="indent">   <div id="verbatim">

   <table 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
var&#x00A0;X&#x00A0;{i&#x00A0;in&#x00A0;1..M,&#x00A0;j&#x00A0;in&#x00A0;1..N}&#x00A0;binary;
</div>
</td></tr></table>
<!--l. 150--><p class="nopar"> </div> 
and the &#8220;convexity&#8221; constraints:
<!--l. 154--><p class="indent">   <div id="verbatim">

   <table 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
subject&#x00A0;to&#x00A0;Convexity&#x00A0;{i&#x00A0;in&#x00A0;1..M}:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;sum&#x00A0;{j&#x00A0;in&#x00A0;1..N}&#x00A0;X[i,j]&#x00A0;=&#x00A0;1;
</div>
</td></tr></table>
<!--l. 158--><p class="nopar"> </div> 
<!--l. 161--><p class="indent">   (note that we must explicitly include the convexity constraints in the <span 
class="cmtt-10">Ampl</span>
model).
<!--l. 163--><p class="indent">   Then after reading in the data, we set the suffix values: <div id="verbatim">

   <table 
class="verbatim"><tr class="verbatim"><td 
class="verbatim"><div class="verbatim">
&#x00A0;<br />#&#x00A0;The&#x00A0;numbers&#x00A0;&#8216;val[i,j]&#8217;&#x00A0;are&#x00A0;chosen&#x00A0;typically&#x00A0;as
&#x00A0;<br />#&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;the&#x00A0;values&#x00A0;&#8216;represented&#8217;&#x00A0;by&#x00A0;the&#x00A0;discrete&#x00A0;choices.
&#x00A0;<br />let&#x00A0;{i&#x00A0;in&#x00A0;1..M,&#x00A0;j&#x00A0;in&#x00A0;1..N}&#x00A0;X[i,j].ref&#x00A0;:=&#x00A0;val[i,j];
&#x00A0;<br />
&#x00A0;<br />#&#x00A0;These&#x00A0;identify&#x00A0;which&#x00A0;SOS&#x00A0;constraint&#x00A0;each&#x00A0;variable&#x00A0;belongs&#x00A0;to.
&#x00A0;<br />let&#x00A0;{i&#x00A0;in&#x00A0;1..M,&#x00A0;j&#x00A0;in&#x00A0;1..N}&#x00A0;X[i,j].sosno&#x00A0;:=&#x00A0;i;
</div>
</td></tr></table>
<!--l. 173--><p class="nopar"> </div> 
<!--l. 176--><p class="indent">    </div> <div class="story"><h3><a id="sec:run&#x02D9;gams">From <span 
class="cmtt-10">Gams</span></a></h3>  Thanks to the <a 
href="http://projects.coin-or.org/GAMSlinks" >GAMSlinks</a> project, Bonmin is available
in <span 
class="cmtt-10">Gams </span>since release 22.5 of the <a 
href="http://www.gams.com/" ><span 
class="cmtt-10">GAMS</span></a> modeling system. The system is available for
<a 
href="http://download.gams-software.com/" >download from GAMS</a>. Without buying a license it works as a demo with
limited capabilities. Documentation for using <span 
class="cmtt-10">BONMIN</span>&#x00A0;in <span 
class="cmtt-10">GAMS </span>is available
<a 
href="http://www.gams.com/solvers/coin.pdf" >here</a>.
<!--l. 187--><p class="indent">    </div> <div class="story"><h3><a id="sec:run&#x02D9;cpp">From a C/C++ program</a></h3>   <span 
class="cmtt-10">BONMIN</span>&#x00A0;can also be run from within a
C/C++ program if the user codes the functions to compute first- and second-order
derivatives. An example of such a program is available in the subdirectory
<span 
class="cmtt-10">CppExample </span>of the <span 
class="cmtt-10">examples </span>directory. For further explanations, please refer to this
example and to the reference manual.
    
</body></html> 



